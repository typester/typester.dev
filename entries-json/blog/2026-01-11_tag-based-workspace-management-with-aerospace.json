{"title":"Tab based workspace management with AeroSpace","date":"2026-01-11T12:16:00-08:00","tags":["aerospace","aerotag","macos"],"eid":"1654f297-04d5-496f-8955-453647b8a887","image":"https://live.staticflickr.com/65535/55034823133_f4b2f5ca97_h.jpg","content":"<p>As a long-time <a href=\"https://awesomewm.org/\">AwesomeWM</a> user who has loved using <a href=\"https://isaacfreund.com/software/river/\">River</a> in recent years, working on macOS was painful for me.</p>\n<p>The other day, my company issued me a new Mac, so I asked an LLM if I could build an environment like Awesome or River on a Mac. The answer was: \"You can do it by combining AeroSpace, AeroRaise, and JankyBorders!\"</p>\n<h3>AeroSpace is great but not perfect for me</h3>\n<p>I've tried various tiling window managers for macOS, but never <a href=\"https://github.com/nikitabobko/AeroSpace\">AeroSpace</a>. My first impression was good. It's independent of the system's desktop management and lacks unnecessary window animations.</p>\n<p>However, the fact that its workspace management is completely different from Awesome or River was quite difficult for me. But since I was satisfied with the other aspects, I started thinking that if I could just solve this one issue, I might be able to live comfortably on a Mac.</p>\n<h3>The Invention of AeroTag</h3>\n<p>Since AeroSpace allows retrieving the current state and manipulating it via the command line, I thought I could extend the workspace management with an external tool.<a class=\"footref\" href=\"#fn1\" id=\"r1\">[1]</a>\nAnd this is what I built:</p>\n<blockquote>\n<p><a href=\"https://github.com/typester/aerotag/\">typester/aerotag: Tag-based workspace management for AeroSpace.</a></p>\n</blockquote>\n\n<p>By using this software alongside AeroSpace, you can achieve Awesome-like tag-based workspace management on AeroSpace.</p>\n<p>The specific usage is detailed in the <a href=\"https://github.com/typester/aerotag/\">README</a>, but basically, instead of writing workspace operations like this:</p>\n<pre><code class=\"conf-toml\"><span class=\"variable-name\">alt-1</span> = <span class=\"string\">'workspace 1'</span></code></pre>\n\n<p>You simply use the <code>aerotag</code> command like this:</p>\n<pre><code class=\"conf-toml\"><span class=\"variable-name\">alt-1</span> = <span class=\"string\">'exec-and-forget aerotag tag-view 1'</span></code></pre>\n\n<p>I aligned the basic commands with Awesome's commands, and for advanced users, I also provided a River-like bitmask API. Using this, users can create commands not originally provided, such as \"remove the focused window from the focused tag\".</p>\n<p>I also prepared a command to stream workspace status in real-time. With this, you can render AeroTag's status on a menu bar like SketchyBar. (Since I don't use SketchyBar myself, support for it is provided on a best-effort basis.)</p>\n<h3>What is Tag-based Workspace Management?</h3>\n<p>Very few WMs adopt this method—as far as I know, only dwm, awesome, and river—so few readers are likely familiar with it.</p>\n<p>Tag-based workspaces differ from normal workspaces in that you can <strong>display multiple workspaces at once</strong>. Also, a window can belong to multiple workspaces.\nFrom a programmer's perspective, both the displayed workspaces and the workspaces a window belongs to are defined by bitmasks.</p>\n<p>Let me explain why this is useful using my daily WM usage as an example.</p>\n<p>My most basic workspace (tag) configuration looks like this:</p>\n<ul>\n<li>1. Ghostty</li>\n<li>2. Firefox</li>\n<li>3. Emacs</li>\n<li>&#x2026;</li>\n<li>10. Teams</li>\n</ul>\n\n<p>I use 10 tags like this, basically placing one application per tag.\nI also usually place dev tools to the left, communication tools on the far right, and other software to the right.</p>\n<p>Now, a common situation is wanting to reference documents or tickets in Firefox while writing code in Emacs, or wanting to do something else while watching logs in a terminal. There is a demand to combine applications across workspaces. This is very easy with a WM that has tag-based workspace management.</p>\n<p>If you are using Emacs (Tag 3 is displayed) and want to reference Firefox, you just need to toggle the display of Tag 2 in addition to Tag 3. Just like that, Tag 2 and Tag 3 are displayed simultaneously, showing the two apps side-by-side (the image below shows Terminal and Emacs, so Tag 1 and Tag 3 are displayed).</p>\n<section class=\"image\">\n  <div>\n    <a data-flickr-embed=\"true\" href=\"https://www.flickr.com/photos/typester/55034823133/in/datetaken/\" title=\"AeroSpace + AeroTag\"><img src=\"https://live.staticflickr.com/65535/55034823133_f4b2f5ca97_h.jpg\" width=\"1600\" height=\"1039\" alt=\"AeroSpace + AeroTag\"/></a><script async src=\"//embedr.flickr.com/assets/client-code.js\" charset=\"utf-8\"></script>\n  </div>\n</section>\n\n<p>Another common situation is when I have two Firefox windows on Tag 2, but I want to use only one of them with Emacs. In this case, if I use the previous method (displaying Tag 2 and Tag 3 together), both Firefox windows would appear, resulting in a total of 3 windows. That is not ideal, so in this case, I make the Firefox window I want to share belong to Tag 3 as well. This is similar to traditional workspace management, but the difference is that Firefox remains on Tag 2, so it is still available when I open Tag 2.</p>\n<p>In use cases like this, tag-based workspace management is extremely flexible. Once you get used to this mechanism, it becomes painful to be without it, and you will fall into the same situation I am in.</p>\n<p>However, currently we have Awesome for X Window System, River for Wayland, and now the same mechanism is available on macOS, so the options are aligning (though as mentioned later, Aerotag still has some issues).</p>\n<p>I started with Awesome, so I continue to use the keybindings I used in Awesome for both River and AeroTag. This means that once you learn how to use one tag-based WM, transitioning to another is very easy.</p>\n<h3>Current Limitations</h3>\n<p>Of course, since I am forcing this workspace management on top of the system, issues remain.</p>\n<h4>Layout Reset Issue</h4>\n<p>When combining various apps by toggling tags, the layout generally gets reset.\nIn my case, I mostly use 2 screens (panes), or at most 3 screens<a class=\"footref\" href=\"#fn2\" id=\"r2\">[2]</a>, so it is not a problem. However, I think it is not practically usable for people who open a massive amount of windows.</p>\n<h4>Screen Flicker</h4>\n<p>I feel the operations via AeroTag are reasonably responsive and natural. However, for example, when activating another app using the <code>open</code> command from the terminal, or switching apps from the Dock, the underlying AeroSpace workspace appears briefly before moving to the AeroTag-managed workspace. As a result, the screen flickers for a moment.\nThis is unavoidable due to the current specifications, so we just have to give up on it for now.</p>\n<h3>Conclusion</h3>\n<p>Despite various issues and quirks, I am personally very satisfied with this environment. Restricted to my specific use case, I can now have almost the same experience on macOS as developing on Linux, which makes me incredibly happy. I am even starting to think I could make the Mac my main environment.</p>\n<p>If you are interested, please give it a try. I would be happy to hear your feedback.</p>\n<aside class=\"footdef\">\n<p id=\"fn1\"><a href=\"#r1\">[1]</a> Actually, I had the same experience with Hyprland in the past and created a tool called <a href=\"https://github.com/typester/hyprtag/\">hyprtag</a>. At that time, I was exploring WMs for the Wayland environment. I didn't continue development seriously because of issues like window order not being maintained, and because I found a good migration destination in River.</p>\n<p id=\"fn2\"><a href=\"#r2\">[2]</a> I have implemented a script that automatically splits the 2nd and 3rd windows vertically when there are 3 windows.</p>\n</aside>\n"}
